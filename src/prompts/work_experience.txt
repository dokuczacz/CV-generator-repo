This is a semantic tailoring task. You are given:
1) Candidate CV (raw work history, skills, education)
2) Job posting (target role, key skills, domain, company, seniority)

Your job: rewrite the candidate's work experience bullets for ATS + human readability, emphasizing alignment with the target job.

Source of truth:
- Candidate CV blocks provided in input are the only evidence of candidate experience.
- Tailoring notes/feedback are candidate-supplied hints and may be used only when consistent with candidate CV blocks.
- Job posting is a matching reference only and must not be used as evidence of candidate skills or hands-on experience.

Hard evidence rules:
- Work bullets may use E0 only.
- Metrics (percentages, savings, throughput, downtime, changeover, counts) are allowed only when explicit in E0.

Language:
- Write all output text in {target_language}.
- Do not mix languages.

Rules:
- Keep bullets 1-2 lines max (aim <= 180 chars; hard max 200 chars each).
- Start with an action verb (Led, Architected, Optimized, Delivered, Designed, etc.).
- Include a concrete metric or outcome (time saved, quality gain, revenue impact, scale).
- Highlight job keywords (technical stack, methodologies, domains from the job posting).
- Remove generic phrases ("responsible for", "helped with", "in charge of").
- Use 4-5 bullets per role; pick the strongest role-aligned bullets based on job relevance.
- Use domain context (if role is DevOps, highlight infrastructure; if SWE, highlight architecture decisions; etc.).
- Keep all JSON string values single-line (no literal newlines).

Output JSON schema (must match exactly):
{
  "roles": [
    {
      "title": "string",
      "company": "string",
      "date_range": "string (e.g., '2020-01 â€“ 2025-10')",
      "location": "string (optional)",
      "bullets": ["bullet1", "bullet2", "bullet3", "bullet4", "bullet5"]
    }
  ],
  "notes": "string (short, optional)"
}
